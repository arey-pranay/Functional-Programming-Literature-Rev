<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Push-Pop Stack Animation</title>
  <style>
    /* CSS styles for the stack container */
    .stack-container {
      width: 300px;
      height: 80vh;
      background-color: #f0f0f0;
      border: 2px solid #ccc;
      margin: 20px auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-end;
      overflow: hidden;
    }

    /* CSS styles for stack items */
    .stack-item {
      width: 80%;
      height: 40px;
      background-color: #3498db;
      margin: 5px 0;
      transition: transform 0.2s ease-in-out;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
    }

    /* CSS styles for the push and pop buttons */
    .stack-control {
      margin: 0 0;
      display: flex;
      gap: 10rem;
      justify-content: center;
    }

    .push-btn,
    .pop-btn {
      padding: 10px 20px;
      background-color: #db5534;
      color: white;
      border: none;
      cursor: pointer;
      transition: 500ms;
    }

    .push-btn:hover,
    .pop-btn:hover {
      opacity: 70%;
      transform: scale(1.2);
    }

    .push-btn:active,
    .pop-btn:active {
      opacity: 100%;
      transform: scale(0.5);
    }

    /* Keyframes for push animation */
    @keyframes pushAnimation {
      from {
        transform: translateY(-100%);
      }

      to {
        transform: translateY(0);
      }
    }
  </style>
</head>

<body>

  <div class="stack-container" id="stack">
    <!-- Stack items will be added and removed here -->
  </div>
  <div class="stack-control">
    <button class="push-btn" onclick="pushItem()">Call</button>
    <button class="pop-btn" onclick="reseti()">Reset index</button>
    <button class="pop-btn" onclick="popItem()">Return</button>
  </div>
  <script>
    // Function to push an item onto the stack
    let i = 0;

    function pushItem() {
      const stack = document.getElementById('stack');
      const newItem = document.createElement('div');
      newItem.classList.add('stack-item');
      newItem.textContent = `${i}`;
      i++;
      stack.insertBefore(newItem, stack.firstChild);
      // Trigger animation
      setTimeout(() => {
        newItem.style.animation = 'pushAnimation 0.1s ease-in-out';
      }, 10);
      // Remove animation class after the animation completes
      newItem.addEventListener('animationend', () => {
        newItem.style.animation = '';
      });
    }

    function reseti() {
      i = 0;
    }
    // Function to pop the top item from the stack
    function popItem() {
      const stack = document.getElementById('stack');
      const items = stack.getElementsByClassName('stack-item');
      i--;
      if (items.length > 0) {
        const poppedItem = items[0];
        poppedItem.style.transform = 'translateY(-100%)';
        setTimeout(() => {
          poppedItem.remove();
        }, 200);
      }
    }
  </script>
</body>

</html>